<!DOCTYPE html>
<html lang="en">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta charset="utf-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="author" content="Matt Makai">
<meta name="description" content="Learn how to quickly create new SSH keys on macOS Sierra.">
 <title>Creating SSH Keys on macOS Sierra - Full Stack Python</title>

<style>
*,*:before,*:after{box-sizing:border-box}
html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;font-size:18px;-webkit-tap-highlight-color:rgba(0,0,0,0),color:#222;background:#fefefe}
body{margin:0;font:18px Georgia,serif;line-height:1.4;color:#222;padding:0 0}
img{border:0;vertical-align:middle}
.img-rounded{border-radius:6px}
hr{height:0;box-sizing:content-box;margin:21px 0 21px 0;border:0;border-top:1px solid #eee}
h1,h2,h3,h4,h5,h6{font-family:"Helvetica Neue",sans-serif;font-weight:500;line-height:1.1;color:#000}
h1,h2,h3{margin:32px 0 6px}
h4,h5,h6{margin:11px 0 11px 0}
h1{font-size:40px}
h2{font-size:28px}
h3{font-size:22px}
h4,h5,h6{font-size:18px}
p{margin:0 0 12px}
ul,ol{margin-top:0;margin-bottom:10px}
code,pre{font:1em Menlo,"Courier New",monospace}
code{padding:2px 4px;font-size:90%;color:#c7254e;white-space:nowrap;background-color:#f9f2f4;border-radius:4px}
pre{white-space:pre-wrap;display:block;padding:10px;margin:0 0 11px;font-size:10px;line-height:1.4;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}
.container{padding:0 15px 0 15px;margin-right:auto;margin-left:auto}
.container:before,.container:after{display:table;content:" "}
.container:after{clear:both}
.row:before,.row:after{display:table;content:" "}
.row:after{clear:both}
.col-md-3,.col-md-9,.col-md-12{position:relative;min-height:1px;padding:0 15px 0 15px}
@media (min-width:750px){.container{width:730px}}@media (min-width:768px){.container{width:750px}}@media (min-width:940px){.container{width:920px}}@media (min-width:1140px){.container{width:1120px}}.row{margin-right:-15px;margin-left:-15px}
@media (min-width:768px){.col-md-3,.col-md-9,.col-md-12{float:left} .col-md-12{width:100%} .col-md-9{width:75%} .col-md-3{width:25%}}
.form-control{display:block;width:100%;height:39px;padding:8px 12px;font-size:14px;color:#777;vertical-align:middle;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}
.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6)}
.btn{display:inline-block;padding:8px 12px;margin-bottom:0;font-size:15px;font-weight:normal;line-height:1.4;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;color:#fff;background-color:#22b24c;border-color:#22b24c}
.btn:active,.btn.active{background-image:none;outline:0;box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}
.list-group{padding-left:0;margin-bottom:20px}
.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}
.list-group-item:first-child{border-top-right-radius:4px;border-top-left-radius:4px}
.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}
a.list-group-item{color:#333}
a.list-group-item:hover,a.list-group-item:focus{text-decoration:none;background-color:#f5f5f5}
.panel{margin-bottom:21px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,0.05);border-color:#22b24c}
.panel>.list-group{margin-bottom:0}
.panel>.list-group .list-group-item{border-width:1px 0}
.panel>.list-group .list-group-item:first-child{border-top-right-radius:0;border-top-left-radius:0}
.panel>.list-group .list-group-item:last-child{border-bottom:0}
.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px;color:#468847;background-color:#22b24c;border-color:#22b24c}
a{background:transparent;text-decoration:none;border-bottom:1px dotted;color:#444}
a:hover{text-decoration:none;color:#000}
.logo-title a,.logo-title a:hover{font:72px "Helvetica Neue",sans-serif;font-weight:normal;letter-spacing:.03em;vertical-align:middle;margin-left:5px;color:#000;text-decoration:none;border-bottom:none;line-height:.9em}
.logo-title a:hover{color:#808080}
.logo-image{vertical-align:middle;border:none;height:52px;width:52px;padding:1px}
.logo-header-section{margin:20px 0 15px 0}
#sidebar{margin-top:30px}
h3.panel-head{margin:5px 0 0 0;font-size:26px;color:#fff}
.smaller-item{font:.8em 'Helvetica Neue',sans-serif;padding:5px 0 5px 10px}
@media (max-width:1200px){h3.panel-head{font-size:22px}}@media (max-width:750px){.smaller-item{font-size:1em;padding:15px 0 15px 10px}}@media (max-width:720px){.logo-header-section{margin:20px 40px 0 0}}
p.banner{font-weight:500;line-height:1.1;color:#fff;font-size:22px;margin:14px 0 18px 0}
@media (max-width:767px){.logo-header-section{padding:8px 0 10px; margin:0} .logo-title a,.logo-title a:hover{font-size:34px} h1{font-size:28px} h2{font-size:24px} .logo-image{height:26px;width:26px} pre{font-size:50%}}
.sans-font{font-family:"Helvetica Neue",sans-serif}
</style>
 <link rel="shortcut icon" href="/img/fsp-fav.png">
</head>
<body>
 <div class="container">
<div class="row">
 <div class="col-md-12">
  <div class="logo-header-section">
   <a href="/" style="text-decoration: none; border: none;"><img src="/img/logo-sm.png" class="logo-image" alt="Full Stack Python logo"></a>
   <span class="logo-title"><a href="https://www.fullstackpython.com/">Full Stack Python</a></span>
  </div>
<div class="sans-font">
 <a href="/table-of-contents.html">All topics</a>
 <span style="margin:0 12px 0 12px">|</span>
 <a href="/blog.html">Blog</a>
 <span style="margin:0 12px 0 12px">|</span>
 <a href="/email.html">Newsletter</a>
 <span style="margin:0 12px 0 12px">|</span>
 <a href="https://twitter.com/fullstackpython">@fullstackpython</a>
 <span style="margin:0 12px 0 12px">|</span>
 <a href="https://www.facebook.com/fullstackpython">Facebook</a>
 <span style="margin:0 12px 0 12px">|</span>
 <a href="https://github.com/mattmakai/fullstackpython.com">Source</a> 
</div> </div>
</div><div class="row">
 <div class="col-md-9">
  <h1 style="font-size: 36px;">Creating SSH Keys on macOS Sierra</h1>
  <div style="font-size:12px;color:#666;margin:0 0 10px">
   Posted by <a href="/about-author.html">Matt Makai</a> on 
   February 20, 2017.
  </div>
  <p><a href="/deployment.html">Deploying</a> Python applications typically requires
SSH keys. An SSH key has both a public and a private key file. You can 
use the private key to authenticate when syncing remote <a href="/git.html">Git</a> 
repositories, connect to remote <a href="/servers.html">servers</a> and automate 
your application's deployments via 
<a href="/configuration-management.html">configuration management</a> tools like 
Ansible. Let's learn how to generate SSH key pairs on 
<a href="http://www.apple.com/macos/sierra/">macOS Sierra</a>.</p>
<h2>Generating New Keys</h2>
<p>Bring up a new terminal window on macOS by going into Applications/Utilities
and opening "Terminal".</p>
<p><img src="/source/static/img/170220-ssh-keys-macos/new-terminal.jpg" width="100%" class="technical-diagram img-rounded" alt="New macOS terminal window."></p>
<p>The <code>ssh-keygen</code> command provides an interactive command line interface for
generating both the public and private keys. Invoke <code>ssh-keygen</code> with the
following <code>-t</code> and <code>-b</code> arguments to ensure we get a 4096 bit RSA key. Note 
that you <em>must</em> use a key with 2048 or more bits in macOS Sierra or the
system will not allow you to connect to servers with it.</p>
<p>Optionally, you can also specify your email address with <code>-C</code> (otherwise 
one will be generated off your current Linux account):</p>
<div class="highlight"><pre>ssh-keygen -t rsa -b <span class="m">4096</span> -C my.email.address@company.com
</pre></div>


<p>The first prompt you will see asks where to save the key. However, there are
actually two files that will be generated: the public key and the private 
key. </p>
<div class="highlight"><pre>Generating public/private rsa key pair.
Enter file in which to save the key <span class="o">(</span>/Users/matt/.ssh/id_rsa<span class="o">)</span>:
</pre></div>


<p>This prompt refers to the private key and whatever you enter will also
generate a second file for the public key that has the same name and <code>.pub</code> 
appended.</p>
<p>If you already have a key, you should specify a new filename. I use many
SSH keys so I typically name them "test-deploy", "prod-deploy", "ci-server"
along with a unique project name. Naming is one of those hard computer 
science problems, so take some time to come up with a system that works for
you and the development team you work with!</p>
<p>Next you will see a prompt for an optional passphrase:</p>
<div class="highlight"><pre>Enter passphrase <span class="o">(</span>empty <span class="k">for</span> no passphrase<span class="o">)</span>:
</pre></div>


<p>Whether or not you want a passphrase depends on how you will use the key.
The system will ask you for the passphrase whenever you use the SSH key,
although 
<a href="http://apple.stackexchange.com/questions/254468/macos-sierra-doesn-t-seem-to-remember-ssh-keys-between-reboots">macOS can store the passphrase in your system Keychain</a> 
after the first time you enter it. However, if you are automating deployments 
with a <a href="/continuous-integration.html">continuous integration</a> server like
<a href="/jenkins.html">Jenkins</a> then you will not want a passphrase.</p>
<p>Note that it is impossible to recover a passphrase if it is lost. Keep 
that passphrase safe and secure because otherwise a completely new key would 
have to be generated.</p>
<p>Enter the passphrase (or just press enter to not have a passphrase) twice.
You'll see some output like the following:</p>
<div class="highlight"><pre>Enter passphrase <span class="o">(</span>empty <span class="k">for</span> no passphrase<span class="o">)</span>: 
Enter same passphrase again: 
Your identification has been saved in /Users/matt/.ssh/deploy_prod.
Your public key has been saved in /Users/matt/.ssh/deploy_prod.pub.
The key fingerprint is:
SHA256:UnRGH/nzYzxUFS9jjd0wOl1ScFGKgW3pU60sSxGnyHo matthew.makai@gmail.com
The key<span class="err">&#39;</span>s randomart image is:
+---<span class="o">[</span>RSA 4096<span class="o">]</span>----+
<span class="p">|</span>        ..+o++**@<span class="p">|</span>
<span class="p">|</span>       . +.o*O.@<span class="o">=</span><span class="p">|</span>
<span class="p">|</span>        . oo*<span class="o">=</span>B.*<span class="p">|</span>
<span class="p">|</span>       . .  <span class="o">=</span><span class="nv">o</span><span class="o">=</span>+ <span class="p">|</span>
<span class="p">|</span>      . S E. +oo <span class="p">|</span>
<span class="p">|</span>       . .  .  <span class="o">=</span>.<span class="p">|</span>
<span class="p">|</span>              . o<span class="p">|</span>
<span class="p">|</span>                 <span class="p">|</span>
<span class="p">|</span>                 <span class="p">|</span>
+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
</pre></div>


<p>Your SSH key is ready to use!</p>
<h2>What now?</h2>
<p>Now that you have your public and private keys, I recommend building and
deploying some <a href="/web-development.html">Python web apps</a> such as:</p>
<ul>
<li><a href="/blog/build-first-slack-bot-python.html">Building your first Slack bot</a></li>
<li><a href="/blog/send-mms-picture-messages-python.html">Sending picture or video messages via a REST API</a></li>
<li><a href="/blog/dial-outbound-phone-calls-python-bottle.html">Dialing outbound phone calls</a>
  with the <a href="/bottle.html">Bottle</a> web framework</li>
</ul>
<p>Additional <code>ssh-keygen</code> command resources:</p>
<ul>
<li><a href="https://testequals.com/2016/09/09/macos-sierra-10-12-ssh-keys/">SSH keys on macOS Sierra</a></li>
<li><a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">Generating a new SSH key and adding it to the ssh-agent</a></li>
</ul>
<p>Questions? Contact me via Twitter 
<a href="https://twitter.com/fullstackpython">@fullstackpython</a>
or <a href="https://twitter.com/mattmakai">@mattmakai</a>. I'm also on GitHub with
the username <a href="https://github.com/mattmakai">mattmakai</a>.</p>
<p>Something wrong with this post? Fork 
<a href="https://github.com/mattmakai/fullstackpython.com/blob/gh-pages/source/content/posts/170220-create-ssh-keys-macos.markdown">this page's source on GitHub</a>.</p>
  <hr>
<div id="mc_embed_signup">
<form action="//mattmakai.us2.list-manage.com/subscribe/post?u=b7e774f0c4f05dcebbfee183d&amp;id=b22335388d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
        <h4>Sign up here to receive a monthly email with major updates to this site, tutorials and discount codes for Python books.</h4>
        <div class="row">
            <div class="col-md-9">
                <input type="email" value="" name="EMAIL" class="email form-control" id="mce-EMAIL" placeholder="email address" required>
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_b7e774f0c4f05dcebbfee183d_b22335388d" tabindex="-1" value=""></div>
            </div>
            <div class="col-md-3">
                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-success" style="font-family: 'Helvetica Neue';"></div>
            </div>
        </div>
    </div>
</form>
</div>
 </div>
 <div class="col-md-3">
<div class="panel" id="sidebar">
  <div class="panel-heading">
    <h3 class="panel-head">Learn more about these concepts</h3>
  </div>
  <img src="/source/static/img/170220-ssh-keys-macos/header.jpg" alt="Apple logo, copyright Apple." width="100%"> 
  <div class="list-group">
<a href="/operating-systems.html" class="list-group-item smaller-item">Operating Systems</a>
<a href="/development-environments.html" class="list-group-item smaller-item">Development Environments</a>
<a href="/source-control.html" class="list-group-item smaller-item">Source Control</a>
<a href="/git.html" class="list-group-item smaller-item">Git</a>
    <a href="/table-of-contents.html" class="list-group-item smaller-item" style='background-color:#444; color: #fff;'>...or <span style="border-bottom: 1px dotted;">view all topics</span>.</a>
  </div>
</div> </div>
</div>
  <hr/>
 </div> 
<div class="container">
 <div class="sans-font" style="padding:8px 0 30px 0;float:right">
  <a href="https://github.com/mattmakai" class="underline">Matt Makai</a> 
  <a href="/change-log.html">2012-2017</a>
 </div>
</div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-19910497-7', 'auto');
  ga('send', 'pageview');
</script></body>
</html>